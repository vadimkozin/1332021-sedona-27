function init(){var r=m(".form-search"),e=m(".invitation-button"),t=m(".form-search button[type='submit']"),u=m("input[name='date-arrival']"),i=m("input[name='date-departure']"),s=m("input[name='number-adults']"),o=m("input[name='number-children']"),n=m(".people-adults .plus-btn"),a=m(".people-adults .minus-btn"),l=m(".people-children .plus-btn"),c=m(".people-children .minus-btn"),d=m(".map-interactive"),v=!0,p="",f="";d.style.display="block";try{p=localStorage.getItem("adults"),f=localStorage.getItem("children")}catch(e){v=!1}function m(e){return document.querySelector(e)}function b(e){var t=e.value.replace(/\s+/g," ").trim(),n=!1;if(/^\d{1,}\s[A-Za-zА-Яа-яЁё]{3,}\s\d{4}$/.test(t)){var a=t.split(" ")[1].toLowerCase();n=-1!=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь","января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря","january","february","march","april","may","june","july","august","september","october","november","december"].indexOf(a)}return h(e,n),n}function h(e,t){t?e.style.outline="none":(e.style.outline="1px solid red",setTimeout(function(){e.style.outline="none"},1350),e.focus())}r&&(r.classList.add("form-hide"),p&&(s.value=p),f&&(o.value=f)),t.addEventListener("click",function(e){var t,n,a,l;b(u)&&b(i)&&(l=!!(/^\d+$/.test((a=s).value)&&0<parseInt(a.value)),h(a,l),l)&&(n=/^\d+$/.test((t=o).value),h(t,n),n)?v&&(localStorage.setItem("adults",s.value),localStorage.setItem("children",o.value)):(e.preventDefault(),r.classList.remove("form-error"),r.offsetWidth=r.offsetWidth,r.classList.add("form-error"))}),e.addEventListener("click",function(e){e.preventDefault(),r.classList.toggle("form-show"),r.classList.remove("form-error")}),n.addEventListener("click",function(e){e.preventDefault(),s.value=parseInt(s.value)+1}),a.addEventListener("click",function(e){e.preventDefault(),s.value=parseInt(s.value)-1,s.value<1&&(s.value=1)}),l.addEventListener("click",function(e){e.preventDefault(),o.value=parseInt(o.value)+1}),c.addEventListener("click",function(e){e.preventDefault(),o.value=parseInt(o.value)-1,o.value<0&&(o.value=0)})}window.addEventListener("load",init,!1);
